{"version":3,"file":"FadeInOut.js","names":["FadeInOut","props","state","show","prevProps","hide","_isMounted","clearTimeout","showTimer","hideTimer","setState","fadeIn","fadeOut","setTimeout","fadeOutDuration","fadeInClassName","hiddenClassName","children","React","cloneElement","className","classNames","Component","propTypes","PropTypes","bool","isRequired","string","number","node","defaultProps"],"sources":["../../lib/components/FadeInOut.js"],"sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\n\r\nexport default class FadeInOut extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props)\r\n\r\n\t\tthis.state = {\r\n\t\t\tshow: this.props.show\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps)\r\n\t{\r\n\t\tif (!prevProps.show && this.props.show) {\r\n\t\t\tthis.show()\r\n\t\t} else if (prevProps.show && !this.props.show) {\r\n\t\t\tthis.hide()\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentDidMount()\r\n\t{\r\n\t\tthis._isMounted = true\r\n\t}\r\n\r\n\tcomponentWillUnmount()\r\n\t{\r\n\t\tthis._isMounted = false\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\t}\r\n\r\n\tshow()\r\n\t{\r\n\t\tclearTimeout(this.showTimer)\r\n\t\tclearTimeout(this.hideTimer)\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : true,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : false\r\n\t\t})\r\n\r\n\t\tthis.showTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeIn: true\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\t// Adding a non-null delay in order to\r\n\t\t// prevent web browser from optimizing\r\n\t\t// adding CSS classes and doing it simultaneously\r\n\t\t// rather than sequentially (required for CSS transition).\r\n\t\t10)\r\n\t}\r\n\r\n\thide()\r\n\t{\r\n\t\tconst { fadeOutDuration } = this.props\r\n\r\n\t\tclearTimeout(this.showTimer)\r\n\r\n\t\tif (!this._isMounted) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tthis.setState\r\n\t\t({\r\n\t\t\tshow : false,\r\n\t\t\tfadeIn : false,\r\n\t\t\tfadeOut : true\r\n\t\t})\r\n\r\n\t\t// Gives some time to CSS opacity transition to finish.\r\n\t\tthis.hideTimer = setTimeout(() =>\r\n\t\t{\r\n\t\t\tif (this._isMounted) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tfadeOut : false\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tfadeOutDuration)\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst {\r\n\t\t\tfadeInClassName,\r\n\t\t\thiddenClassName,\r\n\t\t\tchildren\r\n\t\t} = this.props\r\n\r\n\t\tconst {\r\n\t\t\tshow,\r\n\t\t\tfadeIn,\r\n\t\t\tfadeOut\r\n\t\t} = this.state\r\n\r\n\t\tif (show || fadeOut) {\r\n\t\t\tif (fadeInClassName) {\r\n\t\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\t\tclassName: classNames(children.props.className, {\r\n\t\t\t\t\t\t[fadeInClassName]: fadeIn\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t\treturn children\r\n\t\t}\r\n\r\n\t\tif (hiddenClassName) {\r\n\t\t\treturn React.cloneElement(children, {\r\n\t\t\t\tclassName: classNames(children.props.className, hiddenClassName)\r\n\t\t\t})\r\n\t\t}\r\n\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nFadeInOut.propTypes = {\r\n\tshow: PropTypes.bool.isRequired,\r\n\thiddenClassName: PropTypes.string,\r\n\tfadeOutDuration: PropTypes.number.isRequired,\r\n\tfadeInClassName: PropTypes.string,\r\n\tchildren: PropTypes.node.isRequired\r\n}\r\n\r\nFadeInOut.defaultProps = {\r\n\tshow: false\r\n}\r\n"],"mappings":"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"}