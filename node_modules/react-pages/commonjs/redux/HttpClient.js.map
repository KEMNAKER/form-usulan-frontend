{"version":3,"file":"HttpClient.js","names":["createHttpClient","settings","getStore","options","onBeforeSend","http","onRequest","request","parameters","getState","authentication","accessToken","authTokenHeader","header","getAuthToken","getCookie","helpers","HttpClient","catchToRetry","transformUrl","parseDates","useCrossDomainCookies"],"sources":["../../lib/redux/HttpClient.js"],"sourcesContent":["import HttpClient from '../HttpClient.js'\r\n\r\nexport default function createHttpClient(settings, getStore, options = {}) {\r\n\t// Add `getState()` parameter to `http.onRequest()` function.\r\n\tlet onBeforeSend\r\n\tif (settings.http.onRequest) {\r\n\t\tonBeforeSend = (request, parameters) => {\r\n\t\t\tsettings.http.onRequest(request, {\r\n\t\t\t\t...parameters,\r\n\t\t\t\tgetState: getStore().getState\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst {\r\n\t\taccessToken,\r\n\t\theader: authTokenHeader\r\n\t} = settings.http.authentication || {}\r\n\r\n\t// Add `getState()` parameter to `accessToken()` function.\r\n\tlet getAuthToken\r\n\tif (accessToken) {\r\n\t\tgetAuthToken = (getCookie, helpers) => {\r\n      // If a token is returned from this function, it gets sent as\r\n      // `Authorization: Bearer {token}` HTTP header.\r\n\t\t\treturn accessToken({\r\n\t\t\t\t...helpers,\r\n\t\t\t\tgetCookie,\r\n\t\t\t\tgetState: getStore().getState\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn new HttpClient({\r\n\t\tonBeforeSend,\r\n\t\tgetAuthToken,\r\n\t\tauthTokenHeader,\r\n\t\tcatchToRetry: settings.http.catch,\r\n\t\ttransformUrl: settings.http.transformUrl,\r\n\t\tparseDates: settings.parseDates,\r\n\t\tuseCrossDomainCookies: settings.http.useCrossDomainCookies,\r\n\t\t...options\r\n\t})\r\n}"],"mappings":";;;;;;AAAA;AAAyC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAE1B,SAASA,gBAAgB,CAACC,QAAQ,EAAEC,QAAQ,EAAgB;EAAA,IAAdC,OAAO,uEAAG,CAAC,CAAC;EACxE;EACA,IAAIC,YAAY;EAChB,IAAIH,QAAQ,CAACI,IAAI,CAACC,SAAS,EAAE;IAC5BF,YAAY,GAAG,sBAACG,OAAO,EAAEC,UAAU,EAAK;MACvCP,QAAQ,CAACI,IAAI,CAACC,SAAS,CAACC,OAAO,kCAC3BC,UAAU;QACbC,QAAQ,EAAEP,QAAQ,EAAE,CAACO;MAAQ,GAC5B;IACH,CAAC;EACF;EAEA,WAGIR,QAAQ,CAACI,IAAI,CAACK,cAAc,IAAI,CAAC,CAAC;IAFrCC,WAAW,QAAXA,WAAW;IACHC,eAAe,QAAvBC,MAAM;;EAGP;EACA,IAAIC,YAAY;EAChB,IAAIH,WAAW,EAAE;IAChBG,YAAY,GAAG,sBAACC,SAAS,EAAEC,OAAO,EAAK;MACnC;MACA;MACH,OAAOL,WAAW,iCACdK,OAAO;QACVD,SAAS,EAATA,SAAS;QACTN,QAAQ,EAAEP,QAAQ,EAAE,CAACO;MAAQ,GAC5B;IACH,CAAC;EACF;EAEA,OAAO,IAAIQ,sBAAU;IACpBb,YAAY,EAAZA,YAAY;IACZU,YAAY,EAAZA,YAAY;IACZF,eAAe,EAAfA,eAAe;IACfM,YAAY,EAAEjB,QAAQ,CAACI,IAAI,SAAM;IACjCc,YAAY,EAAElB,QAAQ,CAACI,IAAI,CAACc,YAAY;IACxCC,UAAU,EAAEnB,QAAQ,CAACmB,UAAU;IAC/BC,qBAAqB,EAAEpB,QAAQ,CAACI,IAAI,CAACgB;EAAqB,GACvDlB,OAAO,EACT;AACH"}